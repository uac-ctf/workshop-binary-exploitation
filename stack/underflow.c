#include <stdio.h>
#include <stdlib.h>
#include <string.h>

struct fixed_size_stack
{
  int top;
  int data[128];
};

int fixed_size_stack_pop(struct fixed_size_stack * this) {
	return this->data[--(this->top)];
}

int fixed_size_stack_top(struct fixed_size_stack * this) {
	return this->top;
}

int fixed_size_stack_add(struct fixed_size_stack * this, int value) {
	this->data[this->top] = value;
	this->top++;
	return value;
}


int main(int argc, char** argv) {

	printf("Welcome to our stack =))\n");

	struct fixed_size_stack stack;

	int choice;
	int value;
	int top;
	int add;

	do 
	{
	 printf("Menu\n\n");
	 printf("1. Pop\n");
	 printf("2. Add\n");
	 printf("3. Exit\n");
	 scanf("%d",&choice);
	  
	 switch (choice)
	 {
	     case 1: 
	          value= fixed_size_stack_pop(&stack);
	          top = fixed_size_stack_top(&stack);
	          printf("Value -> %d\n",value);
	          printf("Stack top -> %d\n",top);
		  break;
	     case 2: 
	     	  printf("Enter value to add to the stack");
	     	  scanf("%d",&add);
	     	  value = fixed_size_stack_add(&stack,add);
	     	  top = fixed_size_stack_top(&stack);
	          printf("Value added-> %d\n",value);
	          printf("Stack top -> %d\n",top);
		  break;
	     case 3: 
	     	  printf("Goodbye\n"); 
		  break;
	     default: 
	     	  printf("Wrong Choice. Enter again\n");
		  break;
	 } 
	 
	} while (choice != 3);
}
